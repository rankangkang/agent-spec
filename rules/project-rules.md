---
description: 项目规范
priority: 10
---

# 项目规范

## 适用范围与优先级
- **适用层级**：约束项目级结构、命名及导出策略，所有模块需遵守；若与系统/个人规则冲突，遵循“系统 > 项目 > 个人”。
- **执行要求**：在创建新模块或调整目录前检查现有 pattern，保持一致；如需偏离，需在交付说明中记录原因与替代方案。

## 代码组织规范

### 导出规范

- 不要使用默认导出，使用命名导出
- `index.(ts|js)` 作为入口/导出文件，一般来说你不应该在 `index.(ts|js)` 中声明代码逻辑
- 推荐使用 `index.(ts|js)` 文件作为重导出入口，方便外部引入

### 代码结构规范

一个拥有完整功能的项目/代码模块，可能会包含以下一个多多个目录：
- `modules`：一般用于组织多个业务模块代码，各模块可拥有自己的组件、接口、类型、常量、配置等
- `utils`：存放相同父级目录下 可复用的工具代码，通常业务无关
- `types`：存放相同父级目录下 可复用的类型定义
- `constants`：存放相同父级目录下 可复用的常量定义
- `config`：存放相同父级目录下 可复用的配置文件，当该目录下
- `helpers`：存放相同父级目录下 可复用的辅助函数，通常业务相关
- `components`：存放相同父级目录下 可复用的组件代码
- `(pages|views)`：存放相同父级目录下 可复用的页面代码
- `tests` 存放该目录下文件的测试代码
- `docs` 存放相同父级目录下 可复用的文档，一般仅在根目录有，存放项目文档；当然，子模块也可维护自己的 docs 目录存放文档
- `scripts` 存放相同父级目录下 可复用的脚本代码，一般仅在根目录有，存放项目构建、打包等脚本
- `assets` 存放相同父级目录下 可复用的资源文件，如图片、字体等
- `styles` 存放相同父级目录下 可复用的样式文件

#### 扩展规则

若一个目录下，只需要使用一个文件存放类型、常量、配置、帮助函数等，可将文件夹直接退化为文件放在该目录下，例如：

- `types/` -> `types.ts`
- `config/` -> `config.ts`
- `helpers/` -> `helpers.ts`
- ...

当满足以下任一条件时可退化目录：
- 仅包含单一文件且短期无扩展计划。
- 新增资源少于 3 个且与父目录语义高度一致。
- 目录会导致导入路径冗长或难以定位。

若后续需要扩展，再将对应文件拆分回独立目录，并在一次提交中完成迁移。

### 文件命名

#### 前端

- 组件/页面使用 PascalCase 规则命名，例如：`MyComponent.tsx`、`MyPage.tsx`
- 其余使用 camelCase 命名，例如：`myFunction.ts`、`urlConfig.ts`

#### 服务端

服务端文件使用 kebab-case 命名规则，例如：`my-service.ts`、`auth-middleware.ts`

#### 跨端一致性
- 共享类型、常量、配置文件优先放置在 `shared` 或 `modules/*/types.ts` 等明确路径，并保持命名风格与消费端一致。
- 若同名文件在前后端共存（如 `auth` 模块），需在目录级区分，如 `web/modules/auth`、`api/modules/auth`。

### 测试与样式引用
- 测试文件放置在与被测文件同级的 `tests/` 或 `__tests__/` 目录，并沿用被测文件命名后缀（如 `user-service.test.ts`）。
- 全局样式保存在根级 `styles/`，模块级样式存放于对应模块下 `styles` 或 `MyComponent.module.scss`，导入路径与组件保持相对距离最短。
- 公共资源（图片、SVG 等）统一放入 `assets/`，避免零散存放在业务目录。
